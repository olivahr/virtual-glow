<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <title>Virtual Glow | Agencia de Contenido Digital Premium</title>
  <meta name="description" content="Agencia de marketing digital para Instagram, TikTok y negocios. Estrategias que convierten." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    :root{
      --primary:#db7093; --primary-dark:#c71585; --secondary:#ffb6c1; --accent:#ff69b4;
      --dark:#1a1a2e; --light:#fff5f7; --white:#ffffff;
      --gradient-1:linear-gradient(135deg,#db7093 0%,#ff69b4 50%,#ffb6c1 100%);
      --gradient-2:linear-gradient(45deg,#ff69b4,#db7093);
      --shadow-soft:0 10px 30px rgba(219,112,147,.15);
      --shadow-strong:0 20px 40px rgba(219,112,147,.25);
      --glass:rgba(255,255,255,.85);
    }
    html{scroll-behavior:smooth;font-size:16px;}
    body{
      font-family:'Inter',sans-serif;background:var(--light);color:var(--dark);
      overflow-x:hidden;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
    }

    /* Loader */
    .loader{position:fixed;inset:0;background:var(--light);display:flex;justify-content:center;align-items:center;z-index:9999;transition:opacity .6s ease,visibility .6s}
    .loader.hidden{opacity:0;visibility:hidden}
    .loader-logo{width:100px;height:100px;border-radius:50%;background:url('logod.jpg') center/cover no-repeat;animation:pulse 2s ease-in-out infinite;box-shadow:0 0 60px rgba(219,112,147,.4)}
    @keyframes pulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}

    /* Nav */
    .nav{position:fixed;top:0;left:0;width:100%;padding:1rem 5%;background:rgba(255,245,247,.95);
      backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);z-index:1000;transition:all .3s ease;
      border-bottom:1px solid rgba(219,112,147,.1)}
    .nav.scrolled{padding:.7rem 5%;background:rgba(255,245,247,.98);box-shadow:0 5px 20px rgba(0,0,0,.05)}
    .nav-container{max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}
    .nav-logo{display:flex;align-items:center;gap:.8rem;text-decoration:none}
    .nav-logo img{width:45px;height:45px;border-radius:50%;object-fit:cover;box-shadow:0 4px 10px rgba(219,112,147,.3)}
    .nav-logo span{font-family:'Playfair Display',serif;font-size:1.5rem;font-weight:700;background:var(--gradient-1);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .nav-links{display:flex;gap:2rem;list-style:none;align-items:center}
    .nav-links a{text-decoration:none;color:var(--dark);font-weight:500;font-size:.95rem;position:relative;padding:.5rem 0;transition:color .3s;cursor:pointer}
    .nav-links a::before{content:'';position:absolute;bottom:0;left:0;width:0;height:2px;background:var(--gradient-2);transition:width .3s}
    .nav-links a:hover::before,.nav-links a.active::before{width:100%}
    .nav-links a:hover{color:var(--primary)}

    /* Lang */
    .lang-toggle{display:flex;gap:.3rem;margin-left:.5rem}
    .lang-btn{background:transparent;border:1px solid var(--primary);color:var(--primary);padding:.2rem .6rem;border-radius:20px;font-size:.7rem;font-weight:600;cursor:pointer;transition:all .3s}
    .lang-btn.active{background:var(--primary);color:#fff}

    /* Mobile menu */
    .menu-toggle{display:none;flex-direction:column;gap:5px;cursor:pointer;padding:10px;z-index:1001}
    .menu-toggle span{width:26px;height:2px;background:var(--primary);transition:all .3s;border-radius:2px}
    .menu-toggle.active span:nth-child(1){transform:rotate(45deg) translate(5px,5px)}
    .menu-toggle.active span:nth-child(2){opacity:0}
    .menu-toggle.active span:nth-child(3){transform:rotate(-45deg) translate(7px,-6px)}

    /* Hero */
    .hero{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:6rem 5% 3rem;position:relative;overflow:hidden}
    .hero-bg{position:absolute;inset:0;z-index:0}
    .orb{position:absolute;border-radius:50%;filter:blur(60px);opacity:.3;animation:float-orb 15s infinite ease-in-out}
    .orb-1{width:300px;height:300px;background:var(--primary);top:5%;left:-10%}
    .orb-2{width:250px;height:250px;background:var(--secondary);bottom:10%;right:-5%;animation-delay:-5s}
    .orb-3{width:200px;height:200px;background:var(--accent);top:40%;left:30%;animation-delay:-10s}
    @keyframes float-orb{0%,100%{transform:translate(0,0) scale(1)}25%{transform:translate(30px,-30px) scale(1.1)}50%{transform:translate(0,30px) scale(.9)}75%{transform:translate(-30px,-15px) scale(1.05)}}
    .hero-content{position:relative;z-index:1;max-width:900px;animation:fadeInUp 1s ease}
    @keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
    .hero-logo{width:150px;height:150px;border-radius:50%;background:url('logod.jpg') center/cover no-repeat;margin:0 auto 1.5rem;box-shadow:0 15px 40px rgba(219,112,147,.4);animation:scaleIn .8s ease,glow-pulse 3s infinite;border:4px solid rgba(255,255,255,.8)}
    @keyframes scaleIn{0%{transform:scale(.8);opacity:0}100%{transform:scale(1);opacity:1}}
    @keyframes glow-pulse{0%,100%{box-shadow:0 15px 40px rgba(219,112,147,.4)}50%{box-shadow:0 25px 60px rgba(219,112,147,.6)}}
    .hero h1{font-family:'Playfair Display',serif;font-size:clamp(2rem,6vw,3.5rem);font-weight:700;background:var(--gradient-1);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1rem;line-height:1.2}
    .hero-subtitle{font-size:clamp(1rem,2.5vw,1.2rem);color:#666;max-width:600px;margin:0 auto 2.5rem}
    .hero-subtitle span{color:var(--primary);font-weight:600}

    /* Platform cards */
    .platforms-vertical{display:flex;flex-direction:column;align-items:center;gap:2rem;width:100%;max-width:500px;margin:0 auto}
    .platform-card-vertical{
      background:var(--glass);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
      border-radius:20px;padding:2rem;text-decoration:none;color:inherit;border:1px solid rgba(255,255,255,.8);
      box-shadow:var(--shadow-soft);width:100%;
      opacity:0;transform:translateY(30px);
      transition:opacity .8s ease,transform .8s ease,box-shadow .3s;
    }
    .platform-card-vertical.visible{opacity:1;transform:translateY(0)}
    .platform-card-vertical:hover{transform:translateY(-5px) scale(1.02);box-shadow:var(--shadow-strong)}
    .platform-icon-vertical{width:70px;height:70px;border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:2rem;margin-bottom:1rem}
    .platform-card-vertical.instagram .platform-icon-vertical{background:linear-gradient(135deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888)}
    .platform-card-vertical.tiktok .platform-icon-vertical{background:linear-gradient(135deg,#25f4ee,#000,#fe2c55)}
    .platform-card-vertical.business .platform-icon-vertical{background:linear-gradient(135deg,#8b4513,#db7093)}
    .platform-name-vertical{font-family:'Playfair Display',serif;font-size:1.8rem;font-weight:700;margin-bottom:.5rem;color:var(--dark)}
    .platform-desc-vertical{color:#666;font-size:1rem;line-height:1.6;margin-bottom:1rem}
    .platform-arrow-vertical{display:inline-flex;align-items:center;gap:.5rem;color:var(--primary);font-weight:600;font-size:1rem;transition:gap .3s}
    .platform-card-vertical:hover .platform-arrow-vertical{gap:1rem}

    /* Testimonials */
    .testimonials-section{padding:4rem 5%}
    .section-tag{display:inline-block;padding:.3rem 1rem;background:rgba(219,112,147,.1);color:var(--primary);border-radius:30px;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:1rem}
    .section-title{font-family:'Playfair Display',serif;font-size:clamp(1.8rem,4vw,2.5rem);color:var(--dark);text-align:center;margin-bottom:2.5rem}
    .testimonials-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.5rem;max-width:1000px;margin:0 auto}
    .testimonial-card{
      background:var(--white);border-radius:20px;padding:1.8rem;box-shadow:var(--shadow-soft);
      position:relative;opacity:0;transform:translateY(20px);
      transition:opacity .8s ease,transform .8s ease,box-shadow .3s;
    }
    .testimonial-card.visible{opacity:1;transform:translateY(0)}
    .testimonial-card:hover{transform:translateY(-5px);box-shadow:var(--shadow-strong)}
    .testimonial-card::before{content:'"';font-family:'Playfair Display',serif;font-size:4rem;color:rgba(219,112,147,.2);position:absolute;top:-5px;left:15px}
    .testimonial-text{font-style:italic;color:#555;margin-bottom:1.2rem;position:relative;z-index:1;font-size:.95rem}
    .testimonial-author{font-weight:600;color:var(--primary);margin-bottom:.2rem}
    .testimonial-location{color:#888;font-size:.8rem}
    .testimonial-rating{color:gold;margin-bottom:.5rem}

    /* Contact */
    .contact-section{padding:4rem 5%;background:linear-gradient(135deg,rgba(219,112,147,.05) 0%,rgba(255,182,193,.05) 100%)}
    .contact-container{max-width:700px;margin:0 auto;text-align:center}
    .contact-info-card{background:var(--white);border-radius:20px;padding:2rem;box-shadow:var(--shadow-soft)}
    .contact-info-card h3{font-family:'Playfair Display',serif;font-size:1.8rem;color:var(--primary);margin-bottom:1.5rem}
    .contact-detail{display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:1rem;font-size:1rem}
    .contact-icon{font-size:1.5rem;width:45px;height:45px;background:rgba(219,112,147,.1);border-radius:50%;display:flex;align-items:center;justify-content:center}
    .contact-text a{color:var(--primary);text-decoration:none;font-weight:500}
    .policies{margin-top:2rem;padding-top:1.5rem;border-top:1px solid rgba(0,0,0,.1);display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}
    .policies a{color:#888;text-decoration:none;cursor:pointer;font-size:.9rem}
    .policies a:hover{color:var(--primary)}

    /* Modal */
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:2000;justify-content:center;align-items:center}
    .modal.active{display:flex}
    .modal-content{background:var(--white);border-radius:20px;padding:2rem;max-width:450px;width:90%;max-height:80vh;overflow-y:auto;position:relative;box-shadow:var(--shadow-strong)}
    .modal-content h3{font-family:'Playfair Display',serif;color:var(--primary);margin-bottom:1rem}
    .modal-content p{color:#555;margin-bottom:1rem;line-height:1.6;font-size:.95rem}
    .close-modal{position:absolute;top:15px;right:15px;font-size:1.5rem;cursor:pointer;color:#888}

    footer{text-align:center;padding:2rem 5%;color:#888;border-top:1px solid rgba(219,112,147,.2);font-size:.85rem}

    /* Chat */
    .chat-button{position:fixed;bottom:20px;right:20px;width:55px;height:55px;border-radius:50%;background:var(--gradient-1);
      display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.8rem;cursor:pointer;box-shadow:var(--shadow-strong);z-index:999;transition:all .3s;border:none}
    .chat-button:hover{transform:scale(1.1)}
    .chat-container{position:fixed;bottom:85px;right:20px;width:320px;height:480px;background:#fff;border-radius:20px;box-shadow:var(--shadow-strong);
      display:none;flex-direction:column;overflow:hidden;z-index:1000;border:2px solid var(--primary)}
    .chat-container.active{display:flex}
    .chat-header{background:var(--gradient-1);color:#fff;padding:.8rem 1rem;font-weight:600;display:flex;justify-content:space-between;align-items:center;gap:.5rem}
    .chat-header .chat-actions{display:flex;gap:.5rem;align-items:center}
    .chat-header button{background:transparent;border:none;color:#fff;font-size:1.1rem;cursor:pointer}
    .chat-messages{flex:1;padding:1rem;overflow-y:auto;display:flex;flex-direction:column;gap:.5rem}
    .message{max-width:85%;padding:.7rem 1rem;border-radius:18px;font-size:.9rem;line-height:1.4;word-wrap:break-word}
    .message.user{align-self:flex-end;background:var(--primary);color:#fff;border-bottom-right-radius:4px}
    .message.bot{align-self:flex-start;background:#f0f0f0;color:var(--dark);border-bottom-left-radius:4px}
    .quick-questions{display:flex;flex-wrap:wrap;gap:.5rem;padding:.5rem 1rem;border-top:1px solid rgba(0,0,0,.1)}
    .quick-question{background:rgba(219,112,147,.1);color:var(--primary);padding:.4rem .8rem;border-radius:20px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .3s;border:1px solid transparent}
    .quick-question:hover{background:var(--primary);color:#fff}
    .chat-input-area{display:flex;padding:.8rem;border-top:1px solid rgba(0,0,0,.1);gap:.5rem}
    .chat-input-area input{flex:1;padding:.7rem;border:1px solid rgba(219,112,147,.3);border-radius:20px;outline:none;font-family:'Inter',sans-serif;font-size:.9rem}
    .chat-input-area button{background:var(--gradient-1);border:none;color:#fff;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.2rem}

    /* Fullscreen chat (FIX para ‚Äúchat comido‚Äù) */
    .chat-container.fullscreen{top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;border-radius:0;border:0;bottom:auto;right:auto}
    .chat-container.fullscreen .chat-messages{padding:1rem 1rem 1.2rem}
    .chat-container.fullscreen .quick-questions{padding:.8rem 1rem}
    .chat-container.fullscreen .chat-input-area{padding:1rem}

    /* Responsive */
    @media (max-width:768px){
      .menu-toggle{display:flex}
      .nav-links{
        position:fixed;top:0;right:-100%;width:70%;max-width:300px;height:100vh;background:var(--glass);
        backdrop-filter:blur(15px);flex-direction:column;justify-content:center;align-items:center;gap:1.8rem;
        transition:right .3s;box-shadow:-5px 0 20px rgba(0,0,0,.1);display:flex;list-style:none
      }
      .nav-links.active{right:0}
      .nav-links a{font-size:1.1rem}
      .lang-toggle{margin-top:.5rem}
      .hero-logo{width:120px;height:120px}
      .hero h1{font-size:2rem}
      .hero-subtitle{font-size:1rem;margin-bottom:2rem}
      .chat-container{width:280px;height:450px;right:15px;bottom:80px}
    }
  </style>
</head>

<body>
  <!-- Loader -->
  <div class="loader" id="loader"><div class="loader-logo"></div></div>

  <!-- Nav -->
  <nav class="nav" id="nav">
    <div class="nav-container">
      <a href="#" class="nav-logo">
        <img src="logod.jpg" alt="Virtual Glow" />
        <span>Virtual Glow</span>
      </a>

      <ul class="nav-links" id="navLinks">
        <li><a class="nav-link" data-section="inicio" data-i18n="nav.home">Inicio</a></li>
        <li><a href="instagram.html" data-i18n="nav.instagram">Instagram</a></li>
        <li><a href="tiktok.html" data-i18n="nav.tiktok">TikTok</a></li>
        <li><a href="business.html" data-i18n="nav.business">Business</a></li>
        <li><a class="nav-link" data-section="testimonios" data-i18n="nav.testimonials">Testimonios</a></li>
        <li><a class="nav-link" data-section="contacto" data-i18n="nav.contact">Contacto</a></li>
        <li><a id="openChatMenu" data-i18n="nav.assistant">Asistente</a></li>
        <li>
          <div class="lang-toggle">
            <span class="lang-btn active" data-lang="es">ES</span>
            <span class="lang-btn" data-lang="en">EN</span>
          </div>
        </li>
      </ul>

      <div class="menu-toggle" id="menuToggle"><span></span><span></span><span></span></div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero" id="inicio">
    <div class="hero-bg">
      <div class="orb orb-1"></div>
      <div class="orb orb-2"></div>
      <div class="orb orb-3"></div>
    </div>

    <div class="hero-content">
      <div class="hero-logo"></div>
      <h1 data-i18n="hero.title">Virtual Glow</h1>
      <p class="hero-subtitle" data-i18n="hero.subtitle">
        Transformamos tu presencia digital en algo <span>brillante</span>. Elige tu plataforma y comienza a brillar con estrategias que convierten.
      </p>

      <div class="platforms-vertical">
        <a href="instagram.html" class="platform-card-vertical instagram">
          <div class="platform-icon-vertical">üì∏</div>
          <h3 class="platform-name-vertical" data-i18n="platform.ig">Instagram</h3>
          <p class="platform-desc-vertical" data-i18n="platform.igDesc">Feed aesthetic, stories que venden y reels virales. Eleva tu marca al siguiente nivel con contenido que enamora.</p>
          <span class="platform-arrow-vertical" data-i18n="platform.explore">Explorar ‚Üí</span>
        </a>

        <a href="tiktok.html" class="platform-card-vertical tiktok">
          <div class="platform-icon-vertical">üéµ</div>
          <h3 class="platform-name-vertical" data-i18n="platform.tt">TikTok</h3>
          <p class="platform-desc-vertical" data-i18n="platform.ttDesc">Contenido viral, tendencias adaptadas y estrategias de crecimiento acelerado. Conquista el algoritmo.</p>
          <span class="platform-arrow-vertical" data-i18n="platform.explore">Explorar ‚Üí</span>
        </a>

        <a href="business.html" class="platform-card-vertical business">
          <div class="platform-icon-vertical">üíº</div>
          <h3 class="platform-name-vertical" data-i18n="platform.biz">Business</h3>
          <p class="platform-desc-vertical" data-i18n="platform.bizDesc">Soluciones integrales para emprendedores y empresas que quieren destacar y escalar sus resultados.</p>
          <span class="platform-arrow-vertical" data-i18n="platform.explore">Explorar ‚Üí</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="testimonials-section" id="testimonios">
    <span class="section-tag" data-i18n="testimonials.badge">Testimonios</span>
    <h2 class="section-title" data-i18n="testimonials.title">Lo que dicen nuestros clientes</h2>
    <div class="testimonials-grid" id="testimonialsGrid"></div>
  </section>

  <!-- Contact -->
  <section class="contact-section" id="contacto">
    <div class="contact-container">
      <div class="contact-info-card">
        <h3 data-i18n="contact.title">Contacto</h3>

        <div class="contact-detail">
          <div class="contact-icon">üìß</div>
          <div class="contact-text">
            <a href="mailto:virtualglowservicesd@gmail.com">virtualglowservicesd@gmail.com</a>
          </div>
        </div>

        <div class="contact-detail">
          <div class="contact-icon">üìû</div>
          <div class="contact-text"><span>+1 (502) 555-6789</span></div>
        </div>

        <div class="contact-detail">
          <div class="contact-icon">üìç</div>
          <div class="contact-text"><span data-i18n="contact.office">Disponible 24/7 online</span></div>
        </div>

        <div class="policies">
          <a id="privacyPolicy" data-i18n="contact.privacy">Pol√≠ticas de privacidad</a>
          <a id="termsOfUse" data-i18n="contact.terms">T√©rminos de uso</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Modals -->
  <div class="modal" id="privacyModal">
    <div class="modal-content">
      <span class="close-modal" id="closePrivacy">&times;</span>
      <h3 data-i18n="privacy.title">Pol√≠ticas de Privacidad</h3>
      <p data-i18n="privacy.text">
        En Virtual Glow, nos tomamos muy en serio la privacidad de tus datos. Toda la informaci√≥n que nos proporcionas se utiliza √∫nicamente para mejorar nuestros servicios y comunicarnos contigo. No compartimos tus datos con terceros sin tu consentimiento expl√≠cito. Puedes solicitar la eliminaci√≥n de tus datos en cualquier momento contact√°ndonos por correo.
      </p>
    </div>
  </div>

  <div class="modal" id="termsModal">
    <div class="modal-content">
      <span class="close-modal" id="closeTerms">&times;</span>
      <h3 data-i18n="terms.title">T√©rminos de Uso</h3>
      <p data-i18n="terms.text">
        Al utilizar nuestros servicios, aceptas los siguientes t√©rminos: Los pagos se procesan a trav√©s de Stripe y est√°n sujetos a sus pol√≠ticas. No realizamos reembolsos despu√©s de los primeros 7 d√≠as de cada mes. El contenido creado es propiedad de Virtual Glow hasta el pago completo. Nos reservamos el derecho de modificar estos t√©rminos con previo aviso.
      </p>
    </div>
  </div>

  <!-- Chat -->
  <button class="chat-button" id="chatButton" aria-label="Abrir chat">üí¨</button>

  <div class="chat-container" id="chatContainer" aria-label="Chat Virtual Glow">
    <div class="chat-header">
      <span data-i18n="chat.title">Asistente Virtual</span>
      <div class="chat-actions">
        <button id="toggleChatFull" title="Pantalla completa">‚§¢</button>
        <button id="closeChat" title="Cerrar">‚úï</button>
      </div>
    </div>

    <div class="chat-messages" id="chatMessages">
      <div class="message bot" data-i18n="chat.welcome">¬°Hola! Soy tu asistente de Virtual Glow. ¬øEn qu√© puedo ayudarte?</div>
    </div>

    <div class="quick-questions" id="quickQuestions"></div>

    <div class="chat-input-area">
      <input type="text" id="chatInput" placeholder="Escribe tu pregunta..." data-i18n="chat.placeholder" />
      <button id="sendChat" aria-label="Enviar">‚û§</button>
    </div>
  </div>

  <footer>
    <p data-i18n="footer">¬© 2025 Virtual Glow. Todos los derechos reservados.</p>
  </footer>

  <script>
    // ==================== OBSERVER (FIX TESTIMONIOS BLANCOS) ====================
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, { threshold: 0.2 });

    function observeNow(el){
      if (!el) return;
      // si ya est√° visible por scroll, el observer se encarga
      observer.observe(el);
    }

    // ==================== KNOWLEDGE BASE (SIN BASURA DE "PREGUNTA 1..100") ====================
    const knowledgeBase = {
      es: [
        { keywords: ['hola','buenos','saludos'], response: '¬°Hola! ¬øEn qu√© puedo ayudarte hoy?' },

        { keywords: ['instagram','ig','feed','stories','reels'], response:
          'Instagram Packs:\n‚Ä¢ Glow Mini ($250/mes): 3 piezas semanales + dise√±o de posts/stories.\n‚Ä¢ Glow Plus ($475/mes): incluye flyers + brainstorming.\n‚Ä¢ Glow Full ($800/mes): incluye reel pro + soporte en mensajes.'
        },

        { keywords: ['tiktok','tik tok','viral','algoritmo'], response:
          'TikTok Packs:\n‚Ä¢ Mini ($150): 12 ideas de videos + optimizaci√≥n de bio.\n‚Ä¢ Plus ($290): calendario 14 d√≠as + hooks.\n‚Ä¢ Full ($490): estrategia 30 d√≠as + sonidos + soporte.'
        },

        { keywords: ['business','negocio','empresa','marca','branding'], response:
          'Business: estrategia de marca, marketing digital, e-commerce, dise√±o, capacitaci√≥n y lanzamientos. Consultor√≠a 1:1 premium: $997.'
        },

        { keywords: ['precio','costo','cuanto','cu√°nto','valor'], response:
          'Precios desde $150 (TikTok Mini) hasta $997 (Consultor√≠a Business). ¬øQu√© servicio quieres?'
        },

        { keywords: ['pago','pagar','stripe','tarjeta'], response:
          'Pagos con tarjeta (cr√©dito/d√©bito) v√≠a Stripe. 100% seguro.'
        },

        { keywords: ['contacto','contactar','email','correo','telefono','tel√©fono'], response:
          'Contacto: virtualglowservicesd@gmail.com | +1 (502) 555-6789'
        },

        { keywords: ['cancelar','cancelacion','cancelaci√≥n','suscripcion','suscripci√≥n'], response:
          'Puedes cancelar en cualquier momento. Escr√≠benos por email y te ayudamos.'
        },

        { keywords: ['como empezar','c√≥mo empezar','empezar','comenzar','primeros pasos'], response:
          'Para empezar: escr√≠benos por email o por aqu√≠ en el chat. Te enviamos un brief y en 24h te damos propuesta.'
        },

        { keywords: ['reembolso','devolucion','devoluci√≥n','dinero'], response:
          'No hay reembolsos despu√©s de los primeros 7 d√≠as de cada ciclo mensual.'
        },

        { keywords: ['gracias','thanks','thank you'], response: '¬°A la orden! üòä ¬øAlgo m√°s?' },
        { keywords: ['adios','adi√≥s','bye','hasta luego'], response: '¬°Listo! Que tengas un d√≠a brillante ‚ú®' },
        { keywords: ['humano','persona','agente'], response: 'Dime tu email y te contactamos (o escr√≠benos directo al correo y respondemos ASAP).' },
      ],
      en: [
        { keywords: ['hello','hi','hey'], response: 'Hello! How can I help you today?' },

        { keywords: ['instagram','ig'], response:
          'Instagram Packs:\n‚Ä¢ Glow Mini ($250/mo): 3 weekly pieces + post/story design.\n‚Ä¢ Glow Plus ($475/mo): adds flyers + brainstorming.\n‚Ä¢ Glow Full ($800/mo): pro reel + support.'
        },

        { keywords: ['tiktok'], response:
          'TikTok Packs:\n‚Ä¢ Mini ($150): 12 video ideas + bio optimization.\n‚Ä¢ Plus ($290): 14-day calendar + hooks.\n‚Ä¢ Full ($490): 30-day strategy + sounds + support.'
        },

        { keywords: ['business','brand'], response:
          'Business: brand strategy, digital marketing, e-commerce, design, training, launches. 1:1 consulting: $997.'
        },

        { keywords: ['price','cost','how much'], response:
          'Pricing from $150 (TikTok Mini) up to $997 (Business consulting). What do you need?'
        },

        { keywords: ['payment','pay','stripe','card'], response:
          'Payments via Stripe (credit/debit).'
        },

        { keywords: ['contact','email','phone'], response:
          'Contact: virtualglowservicesd@gmail.com | +1 (502) 555-6789'
        },

        { keywords: ['cancel','cancellation','subscription'], response:
          'You can cancel anytime. Email us and we‚Äôll help.'
        },

        { keywords: ['how to start','start','begin'], response:
          'To start: email us or use this chat. We‚Äôll send a brief and deliver a proposal within 24h.'
        },

        { keywords: ['refund'], response:
          'No refunds after the first 7 days of each monthly cycle.'
        },

        { keywords: ['thanks','thank you'], response: 'You‚Äôre welcome! üòä Anything else?' },
        { keywords: ['bye','goodbye'], response: 'Have a brilliant day ‚ú®' },
        { keywords: ['human','agent','person'], response: 'Share your email or message us directly‚Äîreply ASAP.' },
      ]
    };

    let currentLang = 'es';

    function normalizeText(s){
      return (s || '')
        .toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "");
    }

    function findResponse(message, lang){
      const kb = knowledgeBase[lang] || knowledgeBase.es;
      const lower = normalizeText(message);
      for (const item of kb){
        for (const k of item.keywords){
          if (lower.includes(normalizeText(k))) return item.response;
        }
      }
      return (lang === 'es')
        ? 'No te entend√≠. Puedes preguntar por Instagram, TikTok, Business, precios, pagos, cancelaci√≥n o contacto.'
        : "I didn't catch that. Ask about Instagram, TikTok, Business, pricing, payments, cancellation or contact.";
    }

    // ==================== CHAT ====================
    const chatButton = document.getElementById('chatButton');
    const chatContainer = document.getElementById('chatContainer');
    const closeChat = document.getElementById('closeChat');
    const toggleChatFull = document.getElementById('toggleChatFull');
    const sendChat = document.getElementById('sendChat');
    const chatInput = document.getElementById('chatInput');
    const chatMessages = document.getElementById('chatMessages');
    const quickQuestionsDiv = document.getElementById('quickQuestions');

    const quickQuestions = [
      { textEs:'¬øC√≥mo empiezo?', textEn:'How to start?' },
      { textEs:'Precios de Instagram', textEn:'Instagram prices' },
      { textEs:'TikTok packs', textEn:'TikTok packs' },
      { textEs:'Consultor√≠a Business', textEn:'Business consulting' },
      { textEs:'M√©todos de pago', textEn:'Payment methods' },
      { textEs:'Cancelar suscripci√≥n', textEn:'Cancel subscription' },
      { textEs:'Hablar con humano', textEn:'Talk to human' },
    ];

    function addMessage(text, sender){
      const msg = document.createElement('div');
      msg.className = `message ${sender}`;
      msg.textContent = text;
      chatMessages.appendChild(msg);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function handleUserMessage(){
      const message = chatInput.value.trim();
      if (!message) return;
      addMessage(message, 'user');
      chatInput.value = '';
      const response = findResponse(message, currentLang);
      setTimeout(() => addMessage(response, 'bot'), 250);
    }

    function renderQuickQuestions(){
      quickQuestionsDiv.innerHTML = '';
      quickQuestions.forEach(q => {
        const chip = document.createElement('span');
        chip.className = 'quick-question';
        chip.textContent = currentLang === 'es' ? q.textEs : q.textEn;
        chip.addEventListener('click', () => {
          const question = chip.textContent;
          addMessage(question, 'user');
          const response = findResponse(question, currentLang);
          setTimeout(() => addMessage(response, 'bot'), 250);
        });
        quickQuestionsDiv.appendChild(chip);
      });
    }

    sendChat.addEventListener('click', handleUserMessage);
    chatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleUserMessage(); });

    chatButton.addEventListener('click', () => chatContainer.classList.toggle('active'));
    closeChat.addEventListener('click', () => {
      chatContainer.classList.remove('active');
      chatContainer.classList.remove('fullscreen');
    });

    toggleChatFull.addEventListener('click', () => {
      chatContainer.classList.toggle('fullscreen');
      // opcional: asegurar scroll abajo al expandir
      chatMessages.scrollTop = chatMessages.scrollHeight;
    });

    document.getElementById('openChatMenu').addEventListener('click', (e) => {
      e.preventDefault();
      chatContainer.classList.add('active');
      document.getElementById('navLinks').classList.remove('active');
      document.getElementById('menuToggle').classList.remove('active');
    });

    // ==================== TESTIMONIOS (FIX: OBSERVAR LOS NUEVOS) ====================
    const testimonials = [
      { name:'Mar√≠a Gonz√°lez', location:'Louisville, KY', rating:5, textEs:'El Glow Plus me hizo subir ventas. Belleza + estrategia.', textEn:'Glow Plus increased my sales. Beauty + strategy.' },
      { name:'Carlos Rodr√≠guez', location:'Miami, FL', rating:5, textEs:'Mi TikTok pas√≥ de 0 a 50k seguidores en 3 meses. Incre√≠ble.', textEn:'My TikTok went from 0 to 50k followers in 3 months. Amazing.' },
      { name:'Ana Mart√≠nez', location:'Madrid, Espa√±a', rating:5, textEs:'Business nos ayud√≥ a redefinir la marca. Profesionales.', textEn:'Business helped us redefine the brand. Professional.' },
      { name:'Laura Fern√°ndez', location:'Buenos Aires, Argentina', rating:5, textEs:'Las reels son virales. Engagement por las nubes.', textEn:'Their reels go viral. Engagement skyrocketed.' },
      { name:'Javier P√©rez', location:'Barcelona, Espa√±a', rating:5, textEs:'Atenci√≥n excelente y resultados r√°pidos. Recomendado.', textEn:'Excellent service and fast results. Recommended.' },
    ];

    function renderTestimonials(){
      const grid = document.getElementById('testimonialsGrid');
      if (!grid) return;
      grid.innerHTML = '';

      testimonials.forEach(t => {
        const stars = '‚òÖ'.repeat(t.rating) + '‚òÜ'.repeat(5 - t.rating);
        const card = document.createElement('div');
        card.className = 'testimonial-card'; // IMPORTANT: sin depender de fade-in viejo

        card.innerHTML = `
          <div class="testimonial-rating">${stars}</div>
          <p class="testimonial-text">${currentLang === 'es' ? t.textEs : t.textEn}</p>
          <p class="testimonial-author">${t.name}</p>
          <p class="testimonial-location">${t.location}</p>
        `;

        grid.appendChild(card);
        observeNow(card); // <<< FIX real: observar cada card nueva
      });
    }

    // ==================== TRADUCCIONES ====================
    const translations = {
      es: {
        'nav.home':'Inicio','nav.instagram':'Instagram','nav.tiktok':'TikTok','nav.business':'Business',
        'nav.testimonials':'Testimonios','nav.contact':'Contacto','nav.assistant':'Asistente',
        'hero.title':'Virtual Glow',
        'hero.subtitle':'Transformamos tu presencia digital en algo <span>brillante</span>. Elige tu plataforma y comienza a brillar con estrategias que convierten.',
        'platform.ig':'Instagram','platform.igDesc':'Feed aesthetic, stories que venden y reels virales. Eleva tu marca al siguiente nivel con contenido que enamora.',
        'platform.tt':'TikTok','platform.ttDesc':'Contenido viral, tendencias adaptadas y estrategias de crecimiento acelerado. Conquista el algoritmo.',
        'platform.biz':'Business','platform.bizDesc':'Soluciones integrales para emprendedores y empresas que quieren destacar y escalar sus resultados.',
        'platform.explore':'Explorar ‚Üí',
        'testimonials.badge':'Testimonios','testimonials.title':'Lo que dicen nuestros clientes',
        'contact.title':'Contacto','contact.office':'Disponible 24/7 online',
        'contact.privacy':'Pol√≠ticas de privacidad','contact.terms':'T√©rminos de uso',
        'privacy.title':'Pol√≠ticas de Privacidad',
        'privacy.text':'En Virtual Glow, nos tomamos muy en serio la privacidad de tus datos. Toda la informaci√≥n que nos proporcionas se utiliza √∫nicamente para mejorar nuestros servicios y comunicarnos contigo. No compartimos tus datos con terceros sin tu consentimiento expl√≠cito. Puedes solicitar la eliminaci√≥n de tus datos en cualquier momento contact√°ndonos por correo.',
        'terms.title':'T√©rminos de Uso',
        'terms.text':'Al utilizar nuestros servicios, aceptas los siguientes t√©rminos: Los pagos se procesan a trav√©s de Stripe y est√°n sujetos a sus pol√≠ticas. No realizamos reembolsos despu√©s de los primeros 7 d√≠as de cada mes. El contenido creado es propiedad de Virtual Glow hasta el pago completo. Nos reservamos el derecho de modificar estos t√©rminos con previo aviso.',
        'chat.title':'Asistente Virtual','chat.welcome':'¬°Hola! Soy tu asistente de Virtual Glow. ¬øEn qu√© puedo ayudarte?',
        'chat.placeholder':'Escribe tu pregunta...','footer':'¬© 2025 Virtual Glow. Todos los derechos reservados.'
      },
      en: {
        'nav.home':'Home','nav.instagram':'Instagram','nav.tiktok':'TikTok','nav.business':'Business',
        'nav.testimonials':'Testimonials','nav.contact':'Contact','nav.assistant':'Assistant',
        'hero.title':'Virtual Glow',
        'hero.subtitle':'We transform your digital presence into something <span>brilliant</span>. Choose your platform and start shining with strategies that convert.',
        'platform.ig':'Instagram','platform.igDesc':'Aesthetic feed, stories that sell and viral reels. Elevate your brand with content that captivates.',
        'platform.tt':'TikTok','platform.ttDesc':'Viral content, adapted trends, and accelerated growth strategies. Conquer the algorithm.',
        'platform.biz':'Business','platform.bizDesc':'All-in-one solutions for entrepreneurs and companies that want to stand out and scale results.',
        'platform.explore':'Explore ‚Üí',
        'testimonials.badge':'Testimonials','testimonials.title':'What our clients say',
        'contact.title':'Contact','contact.office':'Available 24/7 online',
        'contact.privacy':'Privacy Policy','contact.terms':'Terms of use',
        'privacy.title':'Privacy Policy',
        'privacy.text':'At Virtual Glow, we take your privacy seriously. Your info is used to improve our services and communicate with you. We do not share your data without explicit consent. You may request deletion anytime by email.',
        'terms.title':'Terms of Use',
        'terms.text':'By using our services: Payments are processed via Stripe and subject to their policies. No refunds after the first 7 days of each month. Created content belongs to Virtual Glow until paid in full. Terms may change with notice.',
        'chat.title':'Virtual Assistant','chat.welcome':'Hello! I am your Virtual Glow assistant. How can I help you?',
        'chat.placeholder':'Type your question...','footer':'¬© 2025 Virtual Glow. All rights reserved.'
      }
    };

    function translatePage(){
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const val = translations[currentLang] && translations[currentLang][key];
        if (!val) return;

        if (key === 'hero.subtitle') el.innerHTML = val;
        else el.innerText = val;
      });

      // update welcome message
      const welcomeMsg = document.querySelector('#chatMessages .message.bot');
      if (welcomeMsg) welcomeMsg.textContent = translations[currentLang]['chat.welcome'];

      renderQuickQuestions();
      renderTestimonials();
    }

    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentLang = btn.getAttribute('data-lang');
        translatePage();
      });
    });

    // Smooth scroll
    document.querySelectorAll('[data-section]').forEach(el => {
      el.addEventListener('click', (e) => {
        e.preventDefault();
        const section = el.getAttribute('data-section');
        const target = document.getElementById(section);
        if (target) target.scrollIntoView({ behavior:'smooth' });
        document.getElementById('navLinks').classList.remove('active');
        document.getElementById('menuToggle').classList.remove('active');
      });
    });

    // Modals
    const privacyModal = document.getElementById('privacyModal');
    const termsModal = document.getElementById('termsModal');

    document.getElementById('privacyPolicy').addEventListener('click', (e) => { e.preventDefault(); privacyModal.classList.add('active'); });
    document.getElementById('termsOfUse').addEventListener('click', (e) => { e.preventDefault(); termsModal.classList.add('active'); });

    document.getElementById('closePrivacy').addEventListener('click', () => privacyModal.classList.remove('active'));
    document.getElementById('closeTerms').addEventListener('click', () => termsModal.classList.remove('active'));

    window.addEventListener('click', (e) => {
      if (e.target === privacyModal) privacyModal.classList.remove('active');
      if (e.target === termsModal) termsModal.classList.remove('active');
    });

    // Mobile menu
    document.getElementById('menuToggle').addEventListener('click', function(){
      this.classList.toggle('active');
      document.getElementById('navLinks').classList.toggle('active');
    });

    // Scroll nav
    window.addEventListener('scroll', () => {
      const nav = document.getElementById('nav');
      if (window.scrollY > 50) nav.classList.add('scrolled');
      else nav.classList.remove('scrolled');
    });

    // Loader + init
    window.addEventListener('load', () => {
      setTimeout(() => document.getElementById('loader').classList.add('hidden'), 600);

      // observar animaciones de cards (platforms)
      document.querySelectorAll('.platform-card-vertical').forEach(el => observeNow(el));

      renderQuickQuestions();
      renderTestimonials();
    });
  </script>
</body>
</html>
